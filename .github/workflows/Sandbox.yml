name: Sandbox

on:
  workflow_dispatch:

jobs:
  
  Diagnostics:
    runs-on: ubuntu-latest
    steps:
      
      - name: Checkout
        uses: actions/checkout@v2
      
      - name: Diagnostics
        id: Diagnostics
        run: dotnet run --project _atom/_atom.csproj Diagnostics --skip
  
  OutputValue:
    runs-on: ubuntu-latest
    outputs:
      test-value-1: ${{ steps.OutputValue.outputs.test-value-1 }}
    steps:
      
      - name: Checkout
        uses: actions/checkout@v2
      
      - name: OutputValue
        id: OutputValue
        run: dotnet run --project _atom/_atom.csproj OutputValue --skip
  
  InputValue:
    needs: [ OutputValue ]
    runs-on: ubuntu-latest
    steps:
      
      - name: Checkout
        uses: actions/checkout@v2
      
      - name: InputValue
        id: InputValue
        run: dotnet run --project _atom/_atom.csproj InputValue --skip
        env:
          test-value-1: ${{ needs.OutputValue.outputs.test-value-1 }}
