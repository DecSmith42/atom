name: dependent-workflow

trigger: none

jobs:
  
  - job: DependentTarget1
    pool:
      vmImage: ubuntu-latest
    steps:
      
      - checkout: self
        fetchDepth: 0
      
      - script: dotnet run --project AtomTest/AtomTest.csproj DependentTarget1 --skip --headless
        name: DependentTarget1
  
  - job: DependentTarget2
    dependsOn: [ DependentTarget1 ]
    pool:
      vmImage: ubuntu-latest
    steps:
      
      - checkout: self
        fetchDepth: 0
      
      - script: dotnet run --project AtomTest/AtomTest.csproj DependentTarget2 --skip --headless
        name: DependentTarget2
